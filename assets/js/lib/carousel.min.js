const carousel={init(e=document.body){for(let t of e.querySelectorAll(".carousel"))this.initSlider(t)},initSlider(e){const t=e.querySelector(".carousel-list"),s=t.children.length,n=e.querySelector(".carousel-indicators");for(var i=0;i<s;i++){var a=document.createElement("li");0==i&&a.classList.add("active"),n.appendChild(a)}t.dataset.slideNum=0;for(let n of e.querySelectorAll(".carousel-nav")){let i=n.classList.contains("carousel-nav-next");n.addEventListener("click",()=>{var n=this.getNewSlideNum(t,i,s);t.dataset.slideNum=n,this.slide(t,n),this.handleIndicators(e,n)},{passive:!0})}t.addEventListener("transitionend",()=>{t.style.removeProperty("transition")},{passive:!0}),n.addEventListener("click",()=>this.slideToByIndicator()),t.addEventListener("mousedown",n=>this.handleMouseDrag(n,e,t,s),{passive:!0}),t.addEventListener("touchstart",n=>this.handleMouseDrag(n,e,t,s),{passive:!0})},slide(e,t){const s=e.children,n=parseInt(window.getComputedStyle(e).columnGap),i=s[0].offsetWidth+n;this.scrollX(e,-1*t*i)},slideToByIndicator(){const e=window.event.target,t=Array.from(e.parentElement.children).indexOf(e),s=e.closest(".carousel"),n=s.querySelector(".carousel-list"),i=parseInt(window.getComputedStyle(n).columnGap),a=n.children[0].offsetWidth+i;n.dataset.slideNum=t,this.scrollX(n,-1*t*a),this.handleIndicators(s,t)},handleIndicators(e,t){for(let s of e.querySelectorAll(".carousel-indicators")){let e=s.children;for(let t of e)t.classList.remove("active");e[t].classList.add("active")}},scrollX(e,t,s=400){e.style.transform=`translateX(${t}px)`,e.style.transition=`transform ${s}ms cubic-bezier(0.25, 1, 0.5, 1) 0s`},getNewSlideNum(e,t,s){let n=parseInt(e.dataset.slideNum,10);return n=t?(n+1)%s:0!=n?n-1:s-1},handleMouseDrag(e,t,s,n){const i=s.children[0].offsetWidth+parseInt(window.getComputedStyle(s).columnGap),a=parseInt(s.dataset.slideNum,10),o=a*i,l=e.clientX||e.touches[0].clientX;let r=0;const d=e=>{r=(e.clientX||e.touches[0].clientX)-l,0==a&&r>.3*i&&(r=.3*i),a==n-1&&-1*r>.3*i&&(r=-.3*i);const t=-1*o+r;s.style.transform=`translateX(${t}px)`},c=()=>{s.removeEventListener("mousemove",d),s.removeEventListener("touchmove",d);let e=a;Math.abs(r)>i/2&&((e=a-Math.sign(r))<0&&(e=0),e==n&&(e=n-1)),this.scrollX(s,-1*e*i),this.handleIndicators(t,e),s.dataset.slideNum=e};s.addEventListener("mousemove",d,{passive:!0}),s.addEventListener("touchmove",d,{passive:!0}),document.addEventListener("mouseup",c,{once:!0,passive:!0}),document.addEventListener("touchend",c,{once:!0,passive:!0})}};